{"componentChunkName":"component---src-templates-blog-post-js","path":"/14/","result":{"data":{"site":{"siteMetadata":{"title":"アーカイブ"}},"markdownRemark":{"id":"399f23c7-62c6-54e1-a864-c8d70b54aeec","excerpt":"これはなんですか LINE botの作り方です。 何をすればいいですか LINE Notifyにログインします。 01.png 次はどうすればいいですか 「My page」へ移動し、「Generate token」をクリックします。\n通知用のLINE…","html":"<h2>これはなんですか</h2>\n<p>LINE botの作り方です。</p>\n<h2>何をすればいいですか</h2>\n<p><a href=\"https://notify-bot.line.me/ja/\">LINE Notify</a>にログインします。</p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/7fd312e1-e0b9-8e4e-567b-1018966ec344.png\" alt=\"01.png\"></p>\n<h2>次はどうすればいいですか</h2>\n<p>「My page」へ移動し、「Generate token」をクリックします。\n通知用のLINEグループを作っておくとよいです。スクショは英語ですが、日本語でもなんとなく分かると思います。</p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/fe7aa3b6-52eb-8360-8cb6-82987c50b36e.png\" alt=\"02.png\"></p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/1c4735dd-4ebf-ea99-ea40-ab6dcea1bf53.png\" alt=\"03.png\"></p>\n<p>LINEグループを選択するとトークンが生成されます。一度しか表示されないので必ずメモしてください。もしトークンをメモし忘れた場合は再度トークルームを作り直しましょう。</p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/c3e25708-d39e-dcd6-a1b4-ce5716641729.png\" alt=\"04.png\"></p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/1689b029-d752-ed9f-a18c-95e7388b05a7.png\" alt=\"05.png\"></p>\n<h2>何を書けばいいですか</h2>\n<p>Pythonスクリプトを書きます。<br>\n今回はサンプルとして天気予報を自動取得するスクリプトを書いてみました。</p>\n<p>以下のリンクにコードを置いています。コピペして試してみてください。\n<a href=\"https://gist.github.com/chonai-flora/f44b04d5a6018a5503502c8e02011cf9\">https://gist.github.com/chonai-flora/f44b04d5a6018a5503502c8e02011cf9</a></p>\n<h2>どうやって使いますか</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">token <span class=\"token operator\">=</span> <span class=\"token string\">'XXXXXXXXXX'</span></code></pre></div>\n<p>この部分に自分のトークンを貼り付けて実行してください。</p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/23f85560-4cb7-2777-7e9e-60fea20fa1bd.png\" alt=\"06.png\"></p>\n<h2>きました</h2>\n<p>成功です。<br>\nぜひ改造して自分流のbotをつくってみてください。<br>\n時間割botとかおすすめです。</p>\n<p><img src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1889756/6d432443-57f7-0f52-19ae-f48bd76e2282.png\" alt=\"07.png\"></p>\n<h2>どうやって改造しますか</h2>\n<p><code class=\"language-text\">notice_to_line()</code>の引数を変えてみましょう。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># weather_message = get_weather('熊本県')</span>\n    <span class=\"token comment\"># print(weather_message, \"\\n\")</span>\n    \n    <span class=\"token comment\"># 引数に送信したいメッセージを渡す</span>\n    message <span class=\"token operator\">=</span> <span class=\"token string\">\"これはテストです\"</span>\n    notice_to_line<span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>もっと簡単になりませんか</h2>\n<p>関数化することで使いやすくなりますが、別に関数化しなくても動きます。この数行だけでもちゃんと機能します。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> requests\ntoken <span class=\"token operator\">=</span> <span class=\"token string\">'XXXXXXXXXX'</span>\nendpoint <span class=\"token operator\">=</span> <span class=\"token string\">'https://notify-api.line.me/api/notify'</span>\nheaders <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'Authorization'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Bearer \"</span> <span class=\"token operator\">+</span> token <span class=\"token punctuation\">}</span>\nparams <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">'message'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Python演習\"</span> <span class=\"token punctuation\">}</span> <span class=\"token comment\"># ←ここに送信したいメッセージを書く</span>\nrequests<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>endpoint<span class=\"token punctuation\">,</span> headers<span class=\"token operator\">=</span>headers<span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>params<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>定期的に実行したいです</h2>\n<p>いろいろと方法はありますが、ちょうど部室にたくさんラズパイがあるので使ってみましょう。</p>\n<p>そのうち資料追記します。</p>","frontmatter":{"title":"LINE botの作り方","date":"2023/05/27","category":"ゼミ資料","isPublic":true},"fields":{"slug":"/14/"}},"previous":{"fields":{"slug":"/13/"},"frontmatter":{"title":"その場でPDFにエクスポートできるMarkdownエディタを作った"}},"next":null},"pageContext":{"id":"399f23c7-62c6-54e1-a864-c8d70b54aeec","previousPostId":"5d9842ba-7e7b-5f85-89f5-625a9cf957c8","nextPostId":null}},"staticQueryHashes":["1324386404"],"slicesMap":{}}